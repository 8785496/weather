# weather
Города на карте обозначаются метками с указанием температуры (из базы данных берется последнее полученное значение температуры, после нажатия на метку температура обновляется). При нажатии на метку появляется окно с текущими параметрами погоды (температурой, влажностью и др.) и графиком темпертуры за последние 24 часа. Текущая температура и другие параметры отображаются по данным JSON-RPC API НГС.Погоды, график строится на основе json-данных, полученных из базы данных.

Для получения и сохранения данных о погоде с заданным интервалом времени 30 минут выполняется php-скрипт планировщиком задач cron (планировщик предоставляется многими хостинг-провайдерами). Параметр cron:

`*/30 * * * * php /path/to/cron-temp.php > /path/to/log/cron.log`
###Структура проекта
```
├── cron-temp.php
├── index.php
├── model
│   └── Weather.php
└── view
    ├── css
    │   └── style.css
    ├── default.php
    └── js
        ├── chart.js
        └── map.js
```
`index.php` контроллер приложения

`cron-temp.php` скрипт, выполняющийся по расписанию, записывает температуру в базу данных

`Weather.php` содержит класс для обработки данных, чтения и записи в базу данных

`default.php` страница с картой

`chart.js`, `map.js` скрипты для построения графика температуры и отображения карты
